<UserControl x:Class="Axon.UI.Components.AxonToggleButton"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             mc:Ignorable="d"
             x:Name="ToggleButtonRoot">

    <StackPanel Orientation="Vertical">
        <!-- Label superior -->
        <TextBlock Text="{Binding Label, ElementName=ToggleButtonRoot}"
                   FontSize="{DynamicResource FontSizeBase300}"
                   FontWeight="{DynamicResource FontWeightRegular}"
                   Foreground="{DynamicResource TextSecondaryBrush}"
                   Margin="0,0,0,4"/>

        <!-- Contenedor principal del toggle -->
        <Button Background="Transparent"
                BorderThickness="0"
                Cursor="Hand"
                Padding="0"
                Click="OnClick"
                HorizontalAlignment="Left"
                IsEnabled="{Binding IsEnabled, ElementName=ToggleButtonRoot}">

            <Button.Template>
                <ControlTemplate TargetType="Button">
                    <ContentPresenter/>
                </ControlTemplate>
            </Button.Template>

            <StackPanel Orientation="Horizontal" 
                       VerticalAlignment="Center">

                <!-- Switch visual -->
                <Border x:Name="SwitchBorder"
                        Width="28" 
                        Height="16" 
                        CornerRadius="8"
                        Background="{Binding SwitchBackground, ElementName=ToggleButtonRoot}"
                        BorderThickness="1"
                        BorderBrush="{DynamicResource BorderBrush}"
                        Margin="0,0,12,0">

                    <Canvas>
                        <!-- Círculo del switch -->
                        <Ellipse x:Name="SwitchCircle"
                               Width="10" 
                               Height="10"
                               Fill="White"
                               Canvas.Left="2"
                               Canvas.Top="2">
                            <!--<Ellipse.Effect>
                                <DropShadowEffect Color="Black" 
                                                Direction="270" 
                                                ShadowDepth="1" 
                                                Opacity="0.3" 
                                                BlurRadius="3"/>
                            </Ellipse.Effect>-->
                        </Ellipse>
                    </Canvas>
                </Border>

                <!-- Texto del estado -->
                <TextBlock Text="{Binding CurrentText, ElementName=ToggleButtonRoot}"
                           Foreground="{Binding CurrentTextColor, ElementName=ToggleButtonRoot}"
                           FontSize="14"
                           FontWeight="Medium"
                           VerticalAlignment="Center"/>
            </StackPanel>
        </Button>
    </StackPanel>
</UserControl>